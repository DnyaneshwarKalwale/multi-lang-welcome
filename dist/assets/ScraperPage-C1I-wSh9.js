import{c as Ft,d as Xe,j as e,p as zt,a as Ne,f as Vt,h as Ls,g as Ot,b as Rs,e as Us}from"./ui-vendor-yLFRes2f.js";import{r as o,R as _,u as _s}from"./react-vendor-DWSrZqKN.js";import{k as Ue,b3 as Fs,G as Qe,m as zs,a3 as Ae,a4 as Le,a5 as ee,q as Vs,a as Os,aI as Ms,aq as K,ar as re,as as ye,at as St,au as Z,aR as Te,L as me,T as Ee,ax as Ds,N as Ws,b as C,s as Pe,a7 as Ct,b4 as It,aF as qe,aw as Bs,aV as Tt,A as Et,n as Je,i as Ys,g as Gs,I as Hs,J as je,r as Pt,X as Mt,a6 as $e,b0 as Ke,F as le,b5 as qs,D as $t,b6 as Js}from"./index-CisuWjtJ.js";import{a as G}from"./utils-vendor-DFcOAB1P.js";import{T as At,a as Lt,g as Rt}from"./twitterApi-BQADLKBQ.js";import{T as Ks,R as Zs}from"./text-BY7Jn8ji.js";import{F as he}from"./folder-CD76w1dZ.js";import"./heart-5GAuxEi9.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Ue("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ue("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ue("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var _e="Collapsible",[sa,Dt]=Ft(_e),[aa,et]=sa(_e),Wt=o.forwardRef((a,l)=>{const{__scopeCollapsible:h,open:s,defaultOpen:p,disabled:n,onOpenChange:f,...I}=a,[P,T]=Xe({prop:s,defaultProp:p??!1,onChange:f,caller:_e});return e.jsx(aa,{scope:h,disabled:n,contentId:zt(),open:P,onOpenToggle:o.useCallback(()=>T(j=>!j),[T]),children:e.jsx(Ne.div,{"data-state":st(P),"data-disabled":n?"":void 0,...I,ref:l})})});Wt.displayName=_e;var Bt="CollapsibleTrigger",Yt=o.forwardRef((a,l)=>{const{__scopeCollapsible:h,...s}=a,p=et(Bt,h);return e.jsx(Ne.button,{type:"button","aria-controls":p.contentId,"aria-expanded":p.open||!1,"data-state":st(p.open),"data-disabled":p.disabled?"":void 0,disabled:p.disabled,...s,ref:l,onClick:Vt(a.onClick,p.onOpenToggle)})});Yt.displayName=Bt;var tt="CollapsibleContent",Gt=o.forwardRef((a,l)=>{const{forceMount:h,...s}=a,p=et(tt,a.__scopeCollapsible);return e.jsx(Ls,{present:h||p.open,children:({present:n})=>e.jsx(na,{...s,ref:l,present:n})})});Gt.displayName=tt;var na=o.forwardRef((a,l)=>{const{__scopeCollapsible:h,present:s,children:p,...n}=a,f=et(tt,h),[I,P]=o.useState(s),T=o.useRef(null),j=Ot(l,T),w=o.useRef(0),L=w.current,D=o.useRef(0),M=D.current,F=f.open||I,U=o.useRef(F),q=o.useRef(void 0);return o.useEffect(()=>{const $=requestAnimationFrame(()=>U.current=!1);return()=>cancelAnimationFrame($)},[]),Rs(()=>{const $=T.current;if($){q.current=q.current||{transitionDuration:$.style.transitionDuration,animationName:$.style.animationName},$.style.transitionDuration="0s",$.style.animationName="none";const H=$.getBoundingClientRect();w.current=H.height,D.current=H.width,U.current||($.style.transitionDuration=q.current.transitionDuration,$.style.animationName=q.current.animationName),P(s)}},[f.open,s]),e.jsx(Ne.div,{"data-state":st(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!F,...n,ref:j,style:{"--radix-collapsible-content-height":L?`${L}px`:void 0,"--radix-collapsible-content-width":M?`${M}px`:void 0,...a.style},children:F&&p})});function st(a){return a?"open":"closed"}var ra=Wt,la=Yt,ia=Gt,X="Accordion",oa=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[at,ca,da]=Us(X),[Fe,za]=Ft(X,[da,Dt]),nt=Dt(),Ht=_.forwardRef((a,l)=>{const{type:h,...s}=a,p=s,n=s;return e.jsx(at.Provider,{scope:a.__scopeAccordion,children:h==="multiple"?e.jsx(xa,{...n,ref:l}):e.jsx(ua,{...p,ref:l})})});Ht.displayName=X;var[qt,ma]=Fe(X),[Jt,ha]=Fe(X,{collapsible:!1}),ua=_.forwardRef((a,l)=>{const{value:h,defaultValue:s,onValueChange:p=()=>{},collapsible:n=!1,...f}=a,[I,P]=Xe({prop:h,defaultProp:s??"",onChange:p,caller:X});return e.jsx(qt,{scope:a.__scopeAccordion,value:_.useMemo(()=>I?[I]:[],[I]),onItemOpen:P,onItemClose:_.useCallback(()=>n&&P(""),[n,P]),children:e.jsx(Jt,{scope:a.__scopeAccordion,collapsible:n,children:e.jsx(Kt,{...f,ref:l})})})}),xa=_.forwardRef((a,l)=>{const{value:h,defaultValue:s,onValueChange:p=()=>{},...n}=a,[f,I]=Xe({prop:h,defaultProp:s??[],onChange:p,caller:X}),P=_.useCallback(j=>I((w=[])=>[...w,j]),[I]),T=_.useCallback(j=>I((w=[])=>w.filter(L=>L!==j)),[I]);return e.jsx(qt,{scope:a.__scopeAccordion,value:f,onItemOpen:P,onItemClose:T,children:e.jsx(Jt,{scope:a.__scopeAccordion,collapsible:!0,children:e.jsx(Kt,{...n,ref:l})})})}),[pa,ze]=Fe(X),Kt=_.forwardRef((a,l)=>{const{__scopeAccordion:h,disabled:s,dir:p,orientation:n="vertical",...f}=a,I=_.useRef(null),P=Ot(I,l),T=ca(h),w=Fs(p)==="ltr",L=Vt(a.onKeyDown,D=>{var Ve;if(!oa.includes(D.key))return;const M=D.target,F=T().filter(te=>{var xe;return!((xe=te.ref.current)!=null&&xe.disabled)}),U=F.findIndex(te=>te.ref.current===M),q=F.length;if(U===-1)return;D.preventDefault();let $=U;const H=0,ue=q-1,ke=()=>{$=U+1,$>ue&&($=H)},Se=()=>{$=U-1,$<H&&($=ue)};switch(D.key){case"Home":$=H;break;case"End":$=ue;break;case"ArrowRight":n==="horizontal"&&(w?ke():Se());break;case"ArrowDown":n==="vertical"&&ke();break;case"ArrowLeft":n==="horizontal"&&(w?Se():ke());break;case"ArrowUp":n==="vertical"&&Se();break}const lt=$%q;(Ve=F[lt].ref.current)==null||Ve.focus()});return e.jsx(pa,{scope:h,disabled:s,direction:p,orientation:n,children:e.jsx(at.Slot,{scope:h,children:e.jsx(Ne.div,{...f,"data-orientation":n,ref:P,onKeyDown:s?void 0:L})})})}),Re="AccordionItem",[ga,rt]=Fe(Re),Zt=_.forwardRef((a,l)=>{const{__scopeAccordion:h,value:s,...p}=a,n=ze(Re,h),f=ma(Re,h),I=nt(h),P=zt(),T=s&&f.value.includes(s)||!1,j=n.disabled||a.disabled;return e.jsx(ga,{scope:h,open:T,disabled:j,triggerId:P,children:e.jsx(ra,{"data-orientation":n.orientation,"data-state":as(T),...I,...p,ref:l,disabled:j,open:T,onOpenChange:w=>{w?f.onItemOpen(s):f.onItemClose(s)}})})});Zt.displayName=Re;var Xt="AccordionHeader",Qt=_.forwardRef((a,l)=>{const{__scopeAccordion:h,...s}=a,p=ze(X,h),n=rt(Xt,h);return e.jsx(Ne.h3,{"data-orientation":p.orientation,"data-state":as(n.open),"data-disabled":n.disabled?"":void 0,...s,ref:l})});Qt.displayName=Xt;var Ze="AccordionTrigger",es=_.forwardRef((a,l)=>{const{__scopeAccordion:h,...s}=a,p=ze(X,h),n=rt(Ze,h),f=ha(Ze,h),I=nt(h);return e.jsx(at.ItemSlot,{scope:h,children:e.jsx(la,{"aria-disabled":n.open&&!f.collapsible||void 0,"data-orientation":p.orientation,id:n.triggerId,...I,...s,ref:l})})});es.displayName=Ze;var ts="AccordionContent",ss=_.forwardRef((a,l)=>{const{__scopeAccordion:h,...s}=a,p=ze(X,h),n=rt(ts,h),f=nt(h);return e.jsx(ia,{role:"region","aria-labelledby":n.triggerId,"data-orientation":p.orientation,...f,...s,ref:l,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});ss.displayName=ts;function as(a){return a?"open":"closed"}var fa=Ht,wa=Zt,ba=Qt,ns=es,rs=ss;const va=fa,ls=o.forwardRef(({className:a,...l},h)=>e.jsx(wa,{ref:h,className:Qe("border-b",a),...l}));ls.displayName="AccordionItem";const is=o.forwardRef(({className:a,children:l,...h},s)=>e.jsx(ba,{className:"flex",children:e.jsxs(ns,{ref:s,className:Qe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...h,children:[l,e.jsx(zs,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));is.displayName=ns.displayName;const os=o.forwardRef(({className:a,children:l,...h},s)=>e.jsx(rs,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...h,children:e.jsx("div",{className:Qe("pb-4 pt-0",a),children:l})}));os.displayName=rs.displayName;const ya=({selectedCategory:a,onCategoryChange:l,tweetCounts:h={},categoryCounts:s={}})=>{const p=Object.keys(h).length>0?h:s,n=[{value:"all",label:"All Tweets",icon:e.jsx(Xs,{className:"h-4 w-4"})},{value:"normal",label:"Regular",icon:e.jsx(Ks,{className:"h-4 w-4"})},{value:"thread",label:"Threads",icon:e.jsx(Vs,{className:"h-4 w-4"})},{value:"long",label:"Long",icon:e.jsx(Qs,{className:"h-4 w-4"})}];return e.jsx("div",{className:"mb-6",children:e.jsx(Ae,{value:a,onValueChange:f=>l(f),children:e.jsx(Le,{className:"w-full justify-start overflow-x-auto flex-nowrap px-1 bg-white border border-gray-200",children:n.map(f=>e.jsxs(ee,{value:f.value,className:"flex items-center gap-2 px-4 py-2 whitespace-nowrap text-sm data-[state=active]:bg-blue-500 data-[state=active]:text-white hover:bg-blue-50 hover:text-blue-700 data-[state=active]:hover:bg-blue-600 data-[state=active]:hover:text-white transition-colors",children:[f.icon,e.jsx("span",{children:f.label}),e.jsx("span",{className:"ml-1 rounded-full bg-gray-100 data-[state=active]:bg-blue-400 px-2 py-0.5 text-xs font-medium text-gray-700 data-[state=active]:text-white",children:p&&p[f.value]?p[f.value]:0})]},f.value))})})})},ja=({content:a})=>{const[l,h]=_.useState(!1);return a.length>250&&!l?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"whitespace-pre-line break-words",children:[a.substring(0,250),"..."]}),e.jsx("button",{className:"text-blue-500 hover:text-blue-600 text-xs mt-1",onClick:()=>h(!0),children:"Show more"})]}):e.jsx("p",{className:"whitespace-pre-line break-words",children:a})},Na=({isOpen:a,onClose:l,documentUrl:h,documentTitle:s})=>{const[p,n]=o.useState(100),[f,I]=o.useState(0),[P,T]=o.useState(!1);if(_.useEffect(()=>{a&&(T(!1),n(100),I(0))},[a]),!a)return null;const j=()=>n(U=>Math.min(U+25,200)),w=()=>n(U=>Math.max(U-25,50)),L=()=>I(U=>(U+90)%360),D=()=>{const U=document.createElement("a");U.href=h,U.download=s,U.click()},M=h.includes("cloudinary.com")&&h.includes("auth_token"),F=()=>M?`${h}#toolbar=1&navpanes=1&scrollbar=1&view=FitH`:`${h}#toolbar=1&navpanes=1&scrollbar=1&view=FitH`;return e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl h-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:s})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:w,disabled:p<=50,className:"p-2",children:e.jsx(ta,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-gray-600 min-w-[60px] text-center",children:[p,"%"]}),e.jsx(C,{variant:"outline",size:"sm",onClick:j,disabled:p>=200,className:"p-2",children:e.jsx(ea,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:L,className:"p-2",children:e.jsx(Zs,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:D,className:"p-2",children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:l,className:"p-2",children:e.jsx(Mt,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{style:{transform:`scale(${p/100}) rotate(${f}deg)`,transformOrigin:"center top"},className:"transition-transform duration-200",children:P?e.jsxs("div",{className:"w-[800px] h-[1000px] border border-gray-300 rounded shadow-lg bg-white flex flex-col items-center justify-center",children:[e.jsx(le,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Document Preview Unavailable"}),e.jsx("p",{className:"text-sm text-gray-500 text-center mb-4 px-4",children:"This document cannot be previewed in the browser. You can download it to view the content."}),e.jsxs(C,{onClick:D,className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),"Download Document"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("iframe",{src:F(),className:"w-[800px] h-[1000px] border border-gray-300 rounded shadow-lg bg-white",title:s,onLoad:U=>{const q=U.target;try{M&&setTimeout(()=>{var $;try{const H=q.contentDocument||(($=q.contentWindow)==null?void 0:$.document);(!H||H.body.innerHTML.includes("error")||H.body.innerHTML.trim()==="")&&T(!0)}catch{}},2e3)}catch{T(!0)}},onError:()=>{console.warn("PDF iframe failed to load"),T(!0)}}),M&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading document..."})]})})]})})})})]})})},ka=`
  .linkedin-post-card {
    transition: all 0.2s ease-in-out;
  }
  
  .linkedin-post-card:hover {
    transform: translateY(-2px);
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .break-words {
    word-wrap: break-word;
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }
  
  .text-overflow-ellipsis {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
  
  .snap-x {
    scroll-snap-type: x mandatory;
  }
  
  .snap-start {
    scroll-snap-align: start;
  }
  
  .carousel-dots {
    transition: all 0.2s ease;
  }
  
  .carousel-dots:hover {
    transform: scale(1.2);
  }
  
  .linkedin-post-content {
    max-width: 100%;
    overflow: hidden;
  }
  
  .linkedin-post-content p {
    margin: 0;
    line-height: 1.5;
  }
  
  .document-carousel {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .document-carousel:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
`,Ut=({document:a,postId:l,onOpenPdf:h})=>{var P,T;const[s,p]=_.useState(0),n=a.coverPages||[],f=_.useCallback(()=>{const j=[];return n.forEach(w=>{w.imageUrls&&Array.isArray(w.imageUrls)?j.push(...w.imageUrls):(w.url||w.image||typeof w=="string")&&j.push(w.url||w.image||w)}),j},[n]);_.useEffect(()=>{const j=document.getElementById(`doc-carousel-${l}-${a.title}`);if(!j)return;const w=()=>{const L=j.scrollLeft,D=j.offsetWidth,M=Math.round(L/D);p(M)};return j.addEventListener("scroll",w),()=>j.removeEventListener("scroll",w)},[l,a.title]);const I=j=>{const w=document.getElementById(`doc-carousel-${l}-${a.title}`);w&&w.scrollTo({left:j*w.offsetWidth,behavior:"smooth"})};return!n||n.length===0?e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>a.url&&h(a.url,a.title),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(le,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 break-words line-clamp-2",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.totalPageCount&&e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:[a.totalPageCount," pages"]}),e.jsx("span",{className:"text-xs text-gray-500 bg-blue-100 text-blue-700 px-2 py-1 rounded",children:((P=a.fileType)==null?void 0:P.toUpperCase())||"PDF"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(C,{variant:"ghost",size:"sm",className:"text-blue-600 hover:bg-blue-50",children:"View"})})]})}):e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white document-carousel",children:[e.jsx("div",{className:"p-3 border-b border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 break-words line-clamp-2",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.totalPageCount&&e.jsxs("span",{className:"text-xs text-gray-500",children:[a.totalPageCount," pages"]}),e.jsx("span",{className:"text-xs text-gray-400",children:"•"}),e.jsx("span",{className:"text-xs text-gray-500",children:((T=a.fileType)==null?void 0:T.toUpperCase())||"PDF"})]})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{id:`doc-carousel-${l}-${a.title}`,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory",children:f().map((w,L)=>e.jsx("div",{className:"flex-none w-full snap-start",children:e.jsxs("div",{className:"relative bg-gray-100",children:[e.jsx("img",{src:w,alt:`Page ${L+1} of ${a.title}`,className:"w-full h-64 object-contain cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>a.url&&h(a.url,a.title),onError:D=>{const M=D.target;M.style.display="none";const F=M.nextElementSibling;F&&(F.style.display="flex")}}),e.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",style:{display:"none"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",L+1]})]})})]})},`${l}-doc-page-${L}`))}),(()=>{const j=f();return j.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>I(Math.max(0,s-1)),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center transition-all",disabled:s===0,children:"‹"}),e.jsx("button",{onClick:()=>I(Math.min(j.length-1,s+1)),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center transition-all",disabled:s===j.length-1,children:"›"})]})})(),(()=>{const j=f();return j.length>1&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:[s+1," / ",j.length]})})()]}),e.jsxs("div",{className:"p-3 bg-gray-50 border-t border-gray-100",children:[(()=>{const j=f();return a.totalPageCount&&j.length<a.totalPageCount&&e.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700 flex items-center gap-2",children:[e.jsx(le,{className:"h-3 w-3"}),e.jsxs("span",{children:["Showing ",j.length," of ",a.totalPageCount," pages.",e.jsx("button",{onClick:()=>a.url&&h(a.url,a.title),className:"ml-1 text-blue-600 hover:underline font-medium",children:"View full document"})]})]})})(),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>a.url&&h(a.url,a.title),className:"w-full text-blue-600 border-blue-200 hover:bg-blue-50",children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),"View Full Document"]})]}),(()=>{const j=f();return j.length>1&&e.jsx("div",{className:"flex justify-center py-2 gap-1 bg-gray-50",children:j.map((w,L)=>e.jsx("button",{className:`w-1.5 h-1.5 rounded-full transition-all carousel-dots ${L===s?"bg-blue-600 scale-110":"bg-gray-300 hover:bg-gray-500"}`,onClick:()=>I(L)},`doc-dot-${L}`))})})()]})},_t=({post:a})=>{const[l,h]=_.useState(0);_.useEffect(()=>{const p=document.getElementById(`carousel-${a.id}`);if(!p)return;const n=()=>{const f=p.scrollLeft,I=p.offsetWidth,P=Math.round(f/I);h(P)};return p.addEventListener("scroll",n),()=>p.removeEventListener("scroll",n)},[a.id]);const s=p=>{const n=document.getElementById(`carousel-${a.id}`);n&&n.scrollTo({left:p*n.offsetWidth,behavior:"smooth"})};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{id:`carousel-${a.id}`,className:"flex overflow-x-auto scrollbar-hide snap-x snap-mandatory rounded-lg",children:a.media.map((p,n)=>e.jsx("div",{className:"flex-none w-full snap-start",children:e.jsx("img",{src:p.url,alt:`Post media ${n+1}`,className:"w-full h-48 object-cover cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open(p.url,"_blank")})},`${a.id}-media-${n}`))}),a.media.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s(Math.max(0,l-1)),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center transition-all",disabled:l===0,children:"‹"}),e.jsx("button",{onClick:()=>s(Math.min(a.media.length-1,l+1)),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full w-8 h-8 flex items-center justify-center transition-all",disabled:l===a.media.length-1,children:"›"})]}),a.media.length>1&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:[l+1," / ",a.media.length]}),a.media.length>1&&e.jsx("div",{className:"flex justify-center mt-2 gap-1",children:a.media.map((p,n)=>e.jsx("button",{className:`w-2 h-2 rounded-full transition-all carousel-dots ${n===l?"bg-blue-600 scale-110":"bg-gray-300 hover:bg-gray-500"}`,onClick:()=>s(n)},`dot-${n}`))})]})},Va=()=>{const a=_s(),{user:l}=Os(),{toast:h}=Ms(),[s,p]=o.useState("youtube"),[n,f]=o.useState(""),[I,P]=o.useState(!1),[T,j]=o.useState(null),[w,L]=o.useState(null),[D,M]=o.useState(new Set),[F,U]=o.useState("all"),[q,$]=o.useState([]),[H,ue]=o.useState(new Set),[ke,Se]=o.useState({format:"short",tone:"professional"}),[lt,Ve]=o.useState(!1),[te,xe]=o.useState(""),[it,ot]=o.useState(!1),[Oe,cs]=o.useState(null),[E,ie]=o.useState(null),[se,oe]=o.useState(new Set),[Sa,ct]=o.useState(!1),[Ca,dt]=o.useState(""),[pe,mt]=o.useState(new Set),[ds,ht]=o.useState({}),[W,Ce]=o.useState(""),[ae,ms]=o.useState(""),[ut,xt]=o.useState(new Set),[J,ge]=o.useState(null),[Ia,pt]=o.useState(new Set),[Me,gt]=o.useState(!1),[De,ft]=o.useState({isOpen:!1,documentUrl:"",documentTitle:""}),[Q,hs]=o.useState(""),[Ta,Ea]=o.useState(!1),[fe,We]=o.useState([]),[we,Be]=o.useState([]),[ce,Ye]=o.useState([]),[wt,Ge]=o.useState(!1),be=async()=>{var b,g,d,u;const t="https://api.brandout.ai/api",r=localStorage.getItem("auth-method"),c=r?je.getToken(r):null;if(!c){console.warn("No auth token found");return}const m={Authorization:`Bearer ${c}`};console.log("Loading saved posts with API URL:",t);try{const S=t.endsWith("/api")?`${t}/twitter/saved`:`${t}/api/twitter/saved`,i=await G.get(S,{headers:m});if(i.data.success){const y=i.data.data||[],A=Rt(y),z=[],O=[];A.forEach(V=>{"tweets"in V?O.push(V):z.push(V)}),We(z),Be(O)}else console.warn("Failed to load saved Twitter posts:",i.data.message),We([]),Be([])}catch(S){console.error("Error loading saved Twitter posts:",S),((b=S.response)==null?void 0:b.status)===401&&N("Please log in to view saved posts"),We([]),Be([])}try{const S=t.endsWith("/api")?`${t}/linkedin/saved-posts`:`${t}/api/linkedin/saved-posts`,i=await G.get(S,{headers:m});i.data.success?(Ye(i.data.data||[]),console.log("Loaded LinkedIn posts:",((g=i.data.data)==null?void 0:g.length)||0)):(console.warn("Failed to load saved LinkedIn posts:",i.data.message),Ye([]))}catch(S){console.error("Error loading saved LinkedIn posts:",S),console.error("LinkedIn posts error response:",(d=S.response)==null?void 0:d.data),((u=S.response)==null?void 0:u.status)===401&&N("Please log in to view saved posts"),Ye([])}};o.useEffect(()=>{be().catch(t=>{console.error("Error in loadSavedPosts:",t),N("Failed to load saved posts")})},[]);const B=t=>{h({description:t,variant:"default"})},N=t=>{h({description:t,variant:"destructive"})},bt=(t,r)=>{ft({isOpen:!0,documentUrl:t,documentTitle:r})},us=()=>{ft({isOpen:!1,documentUrl:"",documentTitle:""})},vt=t=>{try{localStorage.setItem("youtubeChannelResult",JSON.stringify(t)),localStorage.setItem("lastSearchedChannel",t.channelName)}catch(r){console.error("Error saving YouTube channel to localStorage:",r)}},xs=()=>{try{const t=localStorage.getItem("youtubeChannelResult"),r=localStorage.getItem("lastSearchedChannel");t&&ie(JSON.parse(t)),r&&Ce(r)}catch(t){console.error("Error loading YouTube channel from localStorage:",t)}};o.useEffect(()=>{s==="youtube"&&n&&W&&!n.includes(W)&&ie(null)},[s,n,W]),o.useEffect(()=>{s==="linkedin"&&n&&ae&&!n.includes(ae)&&ge(null)},[s,n,ae]),o.useEffect(()=>{s==="twitter"&&n&&Q&&!n.includes(Q)&&L(null)},[s,n,Q]),o.useEffect(()=>{s==="youtube"&&W&&!n&&f(W.startsWith("@")?W:`@${W}`)},[s,W,n]),o.useEffect(()=>{(s==="linkedin"||s==="twitter")&&f("")},[s]),o.useEffect(()=>{const t=()=>{localStorage.removeItem("lastSearchedLinkedInProfile"),localStorage.removeItem("lastSearchedTwitterUser")};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t),localStorage.removeItem("lastSearchedLinkedInProfile"),localStorage.removeItem("lastSearchedTwitterUser")}},[]);const ps=()=>{ie(null),Ce(""),localStorage.removeItem("youtubeChannelResult"),localStorage.removeItem("lastSearchedChannel")},gs=()=>{ge(null),ms(""),f(""),localStorage.removeItem("linkedinResult"),localStorage.removeItem("lastSearchedLinkedInProfile")},fs=()=>{L(null),hs(""),M(new Set),ue(new Set),f(""),localStorage.removeItem("twitterResult"),localStorage.removeItem("lastSearchedTwitterUser")},ws=async()=>{var r,c,m,b,g;if(!n){N("Please enter a LinkedIn username or profile URL");return}let t=n.trim();if(t.includes("linkedin.com/in/")){const d=t.match(/linkedin\.com\/in\/([^\/\?]+)/);t=d?d[1]:t}else if(t.includes("linkedin.com/company/")){const d=t.match(/linkedin\.com\/company\/([^\/\?]+)/);t=d?d[1]:t}t=t.replace("@","").replace(/\/+$/,""),ae&&ae!==t&&gs(),gt(!0),ge(null),pt(new Set);try{const d="https://api.brandout.ai/api",u=localStorage.getItem("token"),S={"Content-Type":"application/json"};u&&(S.Authorization=`Bearer ${u}`);const i=d.endsWith("/api")?`${d}/linkedin/scrape-profile`:`${d}/api/linkedin/scrape-profile`,y=await G.post(i,{username:t},{headers:S,timeout:9e4});y.data.success?(ge(y.data),B(`Successfully scraped ${y.data.totalPosts} posts from ${t}`),await ks(y.data)):N(y.data.message||"Failed to scrape LinkedIn profile")}catch(d){console.error("LinkedIn scraping error:",d),d.code==="ERR_NETWORK"?N("Network error. Please check your connection and try again."):((r=d.response)==null?void 0:r.status)===404?N(`LinkedIn profile '${t}' not found. Please check the username.`):((c=d.response)==null?void 0:c.status)===524||d.code==="ECONNABORTED"?N("Server timeout. LinkedIn scraping is taking too long. Please try again."):((m=d.response)==null?void 0:m.status)>=500?N("Server error. Please try again in a few moments."):N(((g=(b=d.response)==null?void 0:b.data)==null?void 0:g.message)||"Failed to scrape LinkedIn profile")}finally{gt(!1)}},bs=async()=>{var r,c,m,b,g,d,u,S;if(!n){N("Please enter a YouTube channel URL or @handle");return}let t=n;if(n.includes("youtube.com/"))if(n.includes("/channel/"))t=((r=n.split("/channel/")[1])==null?void 0:r.split("/")[0])||n;else if(n.includes("/c/")||n.includes("/user/"))t=((c=n.split(/\/c\/|\/user\//)[1])==null?void 0:c.split("/")[0])||n;else{const i=n.split("/");for(let y=0;y<i.length;y++)if(i[y].startsWith("@")){t=i[y];break}}W&&W!==t&&ps(),ct(!0);try{const i=await Js.post("/youtube/channel",{channelName:t},{timeout:24e4});if(i.data&&i.data.success){let y=t;i.data.data&&i.data.data.length>0&&i.data.data[0].channelName&&(y=i.data.data[0].channelName);const A={videos:i.data.data,channelName:y};ie(A),Ce(t),vt(A),B(`Found ${i.data.data.length} videos from ${y}`)}else throw new Error(((m=i.data)==null?void 0:m.message)||"Failed to fetch channel videos")}catch(i){console.error("Error fetching YouTube channel:",i),i.code==="ERR_NETWORK"?N("Network error. Please check your connection and try again."):((b=i.response)==null?void 0:b.status)===404?N(`YouTube channel '${t}' not found. Please check the channel name or URL.`):((g=i.response)==null?void 0:g.status)===524||i.code==="ECONNABORTED"?N("Server timeout. Channel scraping is taking too long. Please try again."):((d=i.response)==null?void 0:d.status)>=500?N("Server error. Please try again in a few moments."):N(((S=(u=i.response)==null?void 0:u.data)==null?void 0:S.message)||"Failed to fetch channel videos. Please try again.")}finally{ct(!1)}},yt=async()=>{if(!n){N("Please enter a valid URL");return}P(!0);try{s==="twitter"?await vs():s==="youtube"?n.includes("/channel/")||n.includes("/@")||n.startsWith("@")?await bs():N("Please enter a YouTube channel URL or @handle"):s==="linkedin"?await ws():(await new Promise(t=>setTimeout(t,2e3)),j({content:"This is sample extracted content. In a real implementation, this would be the content scraped from the provided URL.",keyPoints:["Sample key point 1","Sample key point 2","Sample key point 3"],tone:"Professional",suggestedHook:"Here's an interesting insight from the content...",estimatedReadTime:2,wordCount:150}),B("Content scraped successfully!"))}catch(t){console.error(`Error scraping content from ${s}:`,t),N(`Failed to scrape content from ${s}. Please try again.`)}finally{P(!1)}},vs=async()=>{var r,c,m,b,g,d,u,S;if(!n){N("Please enter a Twitter username or profile URL");return}let t=n.trim();if(t.includes("twitter.com/")||t.includes("x.com/")){const i=t.split("/");t=i[i.length-1],t=t.split("?")[0]}if(t=t.replace("@","").replace(/\/+$/,""),!t){N("Please enter a valid Twitter username");return}Q&&Q!==t&&fs();try{const i="https://api.brandout.ai/api",y=i.endsWith("/api")?`${i}/twitter/user/${t}`:`${i}/api/twitter/user/${t}`,A=await G.get(y,{timeout:3e5,headers:{"Content-Type":"application/json",Accept:"application/json"}});if(A.data&&A.data.success){const z=A.data.data,O=Rt(z),V=[],de=[];O.forEach(x=>{"tweets"in x?V.push(x):de.push(x)});const ne={all:z.length,normal:de.length,thread:V.reduce((x,k)=>x+k.tweets.length,0),long:z.filter(x=>x.is_long||x.full_text&&x.full_text.length>280).length},Ie={tweets:de,threads:V,username:t,profileImageUrl:(c=(r=z[0])==null?void 0:r.author)==null?void 0:c.profile_image_url,totalCount:z.length,categories:ne};L(Ie),$(V),B(`Successfully retrieved ${z.length} tweets from @${t}`),await Ss(Ie,z)}else throw new Error(((m=A.data)==null?void 0:m.message)||"Failed to fetch tweets")}catch(i){console.error("Error fetching tweets:",i),i.code==="ERR_NETWORK"?N("Network error. Please check your connection and try again."):((b=i.response)==null?void 0:b.status)===404?N(`Twitter user @${t} not found. Please check the username.`):((g=i.response)==null?void 0:g.status)===524?N("Server timeout. The request is taking too long. Please try again."):((d=i.response)==null?void 0:d.status)>=500?N("Server error. Please try again in a few moments."):N(`Failed to fetch tweets: ${((S=(u=i.response)==null?void 0:u.data)==null?void 0:S.message)||i.message||"Unknown error"}`)}},He=t=>{navigator.clipboard.writeText(t),B("Copied to clipboard!")},ys=()=>{B("Saved to Inspiration Vault!")},js=()=>{a("/dashboard/post")},jt=async t=>{var r,c;try{const m=localStorage.getItem("auth-method"),b=m?je.getToken(m):null;if(!b){N("Please log in to delete posts");return}const g="https://api.brandout.ai/api",d=g.endsWith("/api")?`${g}/twitter/${t}`:`${g}/api/twitter/${t}`,u=await G.delete(d,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});u.data.success?(B("Tweet deleted successfully"),be()):N(u.data.message||"Failed to delete tweet")}catch(m){console.error("Error deleting tweet:",m),N(((c=(r=m.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to delete tweet")}},Ns=async t=>{var r,c;try{const m=localStorage.getItem("auth-method"),b=m?je.getToken(m):null;if(!b||!(l!=null&&l.id)){N("Please log in to delete posts");return}let g=t;if(!/^[a-f\d]{24}$/i.test(t)){const i=ce.find(y=>y.id===t||y.url===t||y.mongoId===t);if(!i){N("Post not found in saved posts");return}g=i.mongoId||i._id}const d="https://api.brandout.ai/api",u=d.endsWith("/api")?`${d}/saved-posts/${g}`:`${d}/api/saved-posts/${g}`,S=await G.delete(u,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});S.data.success?(B("LinkedIn post deleted successfully"),be()):N(S.data.message||"Failed to delete LinkedIn post")}catch(m){console.error("Error deleting LinkedIn post:",m),N(((c=(r=m.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to delete LinkedIn post")}},ks=async t=>{const r=localStorage.getItem("auth-method"),c=r?je.getToken(r):null;if(!c||!(l!=null&&l.id)){console.log("Skipping LinkedIn auto-save: User not logged in");return}try{if(console.log(`Auto-saving ${t.posts.length} LinkedIn posts from ${t.profileData.username}...`),t.posts.length===0){console.log("No LinkedIn posts to auto-save");return}const m={posts:t.posts,profileData:t.profileData,options:{autoSave:!0}},b="https://api.brandout.ai/api",g=b.endsWith("/api")?`${b}/linkedin/save-scraped-posts`:`${b}/api/linkedin/save-scraped-posts`,d=await G.post(g,m,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});d.data.success&&(console.log(`Auto-saved ${d.data.count} LinkedIn posts successfully!`),h({title:"Auto-saved",description:`${d.data.count} LinkedIn posts auto-saved to your collection`,duration:3e3}),be())}catch(m){console.error("Error auto-saving LinkedIn posts:",m)}},Ss=async(t,r)=>{const c=localStorage.getItem("auth-method"),m=c?je.getToken(c):null;if(!m){console.log("Skipping auto-save: User not logged in");return}try{console.log(`Auto-saving ${r.length} tweets from @${t.username}...`);const g=[...Array.isArray(t.tweets)?t.tweets:[],...Array.isArray(t.threads)?t.threads.flatMap(i=>i.tweets||[]):[]].map(i=>({...i,thread_id:i.thread_id||i.conversation_id,thread_position:i.thread_position,savedAt:new Date().toISOString(),username:t.username,profileImageUrl:t.profileImageUrl}));if(g.length===0){console.log("No tweets to auto-save");return}const d="https://api.brandout.ai/api",u=d.endsWith("/api")?`${d}/twitter/save`:`${d}/api/twitter/save`,S=await G.post(u,{tweets:g,username:t.username,options:{preserveExisting:!0,skipDuplicates:!0,preserveThreadOrder:!0,autoSave:!0}},{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});S.data.success&&(console.log(`Auto-saved ${S.data.count} tweets successfully!`),h({title:"Auto-saved",description:`${S.data.count} tweets auto-saved to your collection`,duration:3e3}),be())}catch(b){console.error("Error auto-saving tweets:",b)}},Cs=async()=>{if(se.size===0||!E){N("Please select at least one video");return}P(!0);try{const t=E.videos.filter(u=>se.has(u.id)),r=new Date().toISOString(),c=t.map(u=>({...u,language:"English",is_generated:!1,savedAt:r,status:"ready",videoId:u.id,savedTimestamp:r,userId:(l==null?void 0:l.id)||"anonymous"}));let m=!1;try{const u="https://api.brandout.ai/api",S=u.endsWith("/api")?`${u}/youtube/save-videos`:`${u}/api/youtube/save-videos`,i=await G.post(S,{videos:c,userId:(l==null?void 0:l.id)||"anonymous"});i.data.success?(m=!0,B(`Saved ${i.data.count} videos to cloud!`)):(console.warn("Backend save warning:",i.data.message),N("Failed to save videos to cloud: "+i.data.message))}catch(u){console.error("Error saving videos to backend:",u),N("Failed to save videos to cloud. Saving locally as backup.")}let b=[];try{const u=localStorage.getItem("savedYoutubeVideos");u&&(b=JSON.parse(u))}catch(u){console.error("Error parsing existing saved videos:",u)}const g=new Map;b.forEach(u=>{g.set(u.id||u.videoId,u)}),c.forEach(u=>{g.set(u.id||u.videoId,u)});const d=Array.from(g.values());if(localStorage.setItem("savedYoutubeVideos",JSON.stringify(d)),B(m?"Videos saved successfully to cloud and local storage!":`Saved ${c.length} videos to local storage as backup`),oe(new Set),m)try{const u="https://api.brandout.ai/api",S=u.endsWith("/api")?`${u}/youtube-carousels`:`${u}/api/youtube-carousels`,i=await G.post(S,{videos:c,userId:(l==null?void 0:l.id)||"anonymous"});i.data.success&&B(`Created ${i.data.count} carousel(s)!`)}catch(u){console.error("Error creating carousels:",u),N("Failed to create carousels, but videos were saved successfully.")}a("/dashboard/request-carousel")}catch(t){console.error("Error saving videos:",t),N("Failed to save videos. Please try again.")}finally{P(!1)}},Is=async()=>{var t,r;if(!te&&!(E!=null&&E.videos.length)){N("No content available to generate an image");return}ot(!0);try{const c=E!=null&&E.videos.length?E.videos[0].title:te.substring(0,200),m="https://api.brandout.ai/api",b=m.endsWith("/api")?`${m}/cloudinary/generate`:`${m}/api/cloudinary/generate`,g=await G.post(b,{prompt:`Create a professional, high-quality image based on this content: ${c}`,size:"1024x1024",style:"vivid"});if(g.data&&g.data.success){const d=g.data.data;cs(d.secure_url),qs({id:d.public_id,url:d.url,secure_url:d.secure_url,public_id:d.public_id,title:"Generated from YouTube: "+(((t=E==null?void 0:E.videos[0])==null?void 0:t.title)||"content"),tags:["ai-generated","youtube","linkedin"],uploadedAt:new Date().toISOString(),type:"ai-generated",width:d.width,height:d.height}),B("Image generated successfully!")}else throw new Error(((r=g.data)==null?void 0:r.message)||"Failed to generate image")}catch(c){console.error("Error generating image:",c),N("Failed to generate image. Please try again.")}finally{ot(!1)}},Ts=async t=>{try{mt(g=>{const d=new Set(g);return d.add(t),d}),dt(t),ht(g=>({...g,[t]:0}));const r="https://api.brandout.ai/api",c=r.endsWith("/api")?`${r}/youtube/transcript`:`${r}/api/youtube/transcript`,m=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoId:t,useScraperApi:!1})});if(!m.ok){const g=await m.json();throw new Error(g.message||"Failed to fetch transcript")}const b=await m.json();if(b.success){const g=E==null?void 0:E.videos.find(d=>d.id===t);g?(await Es(g,b.transcript,b.language||"English",b.is_generated||!1),B("Successfully retrieved and saved the video transcript!")):N("Could not find the video data for the transcript.");return}else throw new Error(b.message||"Failed to fetch transcript")}catch(r){console.error("Error fetching transcript:",r),N(r instanceof Error?r.message:"Failed to fetch transcript. Please try again.")}finally{mt(r=>{const c=new Set(r);return c.delete(t),c}),ht(r=>({...r,[t]:0})),dt("")}},Es=async(t,r,c,m,b=null)=>{var g;try{const d=b||[r],u=new Date().toISOString(),S={...t,transcript:r,formattedTranscript:d,language:c,is_generated:m,savedAt:u,status:"ready",videoId:t.id,savedTimestamp:u,userId:(l==null?void 0:l.id)||"anonymous"};try{const y=localStorage.getItem("savedYoutubeVideos");let A=y?JSON.parse(y):[];const z=A.findIndex(O=>O.id===S.id);z>=0?A[z]=S:A.push(S),localStorage.setItem("savedYoutubeVideos",JSON.stringify(A)),console.log("Saved transcript to localStorage successfully"),xt(O=>{const V=new Set(O);return V.add(t.id),V})}catch(y){console.error("Error saving to localStorage:",y),N("Error saving locally: "+(y.message||"Unknown error"))}let i=!1;try{const y="https://api.brandout.ai/api",A=y.endsWith("/api")?`${y}/youtube/save-video-transcript`:`${y}/api/youtube/save-video-transcript`,z=await G.post(A,{video:S,userId:(l==null?void 0:l.id)||"anonymous"},{timeout:24e4});if(z.data.success){i=!0,B("Video saved to cloud with transcript!");try{const O=y.endsWith("/api")?`${y}/youtube-carousels`:`${y}/api/youtube-carousels`;G.post(O,{videos:[S],userId:(l==null?void 0:l.id)||"anonymous"},{timeout:1e4}).then(V=>{V.data.success&&console.log("Created carousel for the video")}).catch(V=>{console.error("Error creating carousel:",V)})}catch(O){console.error("Error setting up carousel creation:",O)}}else console.warn("Backend save warning:",z.data.message)}catch(y){let A="Unknown error";y.code==="ERR_NETWORK"?A="Network connection error. API server may be down.":y.response?(A=`Status ${y.response.status}: ${y.response.statusText}`,(g=y.response.data)!=null&&g.message&&(A+=` - ${y.response.data.message}`)):y.message&&(A=y.message),console.error("Error saving to backend:",A)}return a("/dashboard/request-carousel"),!0}catch(d){return console.error("Fatal error in handleSaveVideoWithTranscript:",d),N("Failed to save the video with transcript: "+(d.message||"Unknown error")),!1}},Ps=t=>{if(pe.has(t)){const r=ds[t]||0;return r>0?`Retry ${r}...`:"Loading..."}return pe.size>0?"Please wait...":ut.has(t)?"Transcript Available":"Get Transcript"};o.useEffect(()=>{f(""),j(null),L(null),M(new Set),s!=="youtube"&&(localStorage.getItem("youtubeChannelResult")||(ie(null),oe(new Set))),s!=="linkedin"&&(localStorage.getItem("linkedinResult")||(ge(null),pt(new Set)))},[s]),o.useEffect(()=>{s==="youtube"&&xs()},[s]),o.useEffect(()=>{s!=="youtube"&&s!=="linkedin"&&s!=="twitter"&&(j(null),xe("")),s==="youtube"&&W&&n===""&&f(W.startsWith("@")?W:`@${W}`),s==="linkedin"&&ae&&n===""&&f(ae),s==="twitter"&&Q&&n===""&&f(Q.startsWith("@")?Q:`@${Q}`)},[s,W,ae,Q,n]),o.useEffect(()=>{if(E){const t=new Set(E.videos.map(r=>r.id));oe(r=>{const c=new Set;return r.forEach(m=>{t.has(m)&&c.add(m)}),c})}},[E]),o.useEffect(()=>{try{const t=localStorage.getItem("youtubeChannelResult"),r=localStorage.getItem("lastSearchedChannel");t&&ie(JSON.parse(t)),r&&Ce(r)}catch(t){console.error("Error loading data from localStorage:",t)}},[]),o.useEffect(()=>{const t=()=>{E&&vt(E)};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[E,J,w]);const $s=t=>{oe(r=>{const c=new Set(r);return c.has(t)?c.delete(t):c.add(t),c})};o.useEffect(()=>{try{const t=localStorage.getItem("savedYoutubeVideos");if(t){const r=JSON.parse(t),c=new Set;r.forEach(m=>{m.transcript&&typeof m.transcript=="string"&&m.transcript.trim().length>0&&c.add(m.id)}),xt(c)}}catch(t){console.error("Error checking for videos with transcripts:",t)}},[]),_.useEffect(()=>{const t=document.createElement("style");return t.textContent=ka,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]);const As=`
    @layer components {
      .glass-card {
        @apply bg-white/70 backdrop-blur-sm border border-white/20 shadow-sm;
      }
      
      .tweet-card {
        @apply relative p-4 sm:p-6 rounded-2xl glass-card transition-all duration-300 hover:shadow-md overflow-hidden mb-4;
      }
      
      .tweet-thread {
        @apply relative p-4 sm:p-6 rounded-2xl glass-card transition-all duration-300 hover:shadow-md overflow-hidden mb-4 border-l-4 border-blue-500;
      }
      
      .thread-item {
        @apply border-l-2 border-blue-500/30 pl-6 py-3 ml-3 relative;
      }
      
      .thread-item:first-child {
        @apply pt-1;
      }
      
      .thread-item:last-child {
        @apply pb-1;
      }
      
      .thread-container {
        @apply pl-3 relative;
      }
      
      .thread-container::before {
        content: '';
        @apply absolute top-0 bottom-0 left-3 w-0.5 bg-blue-500/30 rounded;
      }
      
      .thread-item::before {
        content: '';
        @apply absolute left-[-4px] top-4 w-2 h-2 rounded-full bg-blue-500/50;
      }
      
      .thread-item + .thread-item {
        @apply mt-2;
      }
      
      .thread-container:empty::before {
        @apply hidden;
      }
      
      .show-more-button {
        @apply text-blue-500 text-sm font-medium transition-colors duration-200 hover:text-blue-700 flex items-center gap-1;
      }
      
      .checkbox-container {
        @apply absolute top-6 right-6 flex items-center gap-2;
      }
      
      .custom-checkbox {
        @apply h-5 w-5 rounded-md border border-input bg-white transition-colors hover:cursor-pointer;
      }
      
      .custom-checkbox-checked {
        @apply bg-blue-500 border-blue-500;
      }
      
      /* LinkedIn Masonry Layout Styles - Fixed alignment */
      .masonry-container {
        column-fill: balance;
        column-gap: 1.5rem;
        orphans: 1;
        widows: 1;
      }
      
      .masonry-container .linkedin-post-card {
        display: inline-block;
        width: 100%;
        margin: 0 0 1.5rem 0;
        break-inside: avoid;
        page-break-inside: avoid;
        -webkit-column-break-inside: avoid;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .masonry-container .linkedin-post-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }
      
      /* Responsive masonry columns */
      @media (max-width: 768px) {
        .masonry-container {
          column-count: 1;
          column-width: auto;
        }
      }
      
      @media (min-width: 768px) and (max-width: 1024px) {
        .masonry-container {
          column-count: 2;
          column-width: auto;
        }
      }
      
      @media (min-width: 1024px) {
        .masonry-container {
          column-count: 3;
          column-width: auto;
        }
      }
      
      /* Smooth image loading for masonry */
      .masonry-container img {
        transition: opacity 0.3s ease;
      }
      
      .masonry-container img:not([src]) {
        opacity: 0;
      }
    }

    /* Animations */
    .animate-enter {
      animation: fade-in 0.3s ease-out, scale-in 0.2s ease-out;
    }

    .animate-content-expand {
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .media-container {
      @apply rounded-lg overflow-hidden relative;
      aspect-ratio: auto;
      max-height: 400px;
    }

    .media-container img, .media-container video {
      @apply w-full h-auto object-contain;
      max-height: 400px;
    }

    .profile-media-container {
      @apply rounded-lg overflow-hidden relative;
      aspect-ratio: 1 / 1;
      max-height: 150px;
    }

    .profile-media-container img {
      @apply w-full h-full object-contain;
    }

    /* Image lazy loading blur effect */
    .lazy-image {
      @apply transition-opacity duration-500 opacity-0;
    }

    .lazy-image.loaded {
      @apply opacity-100;
    }

    .lazy-image.loading {
      @apply bg-gray-200 animate-pulse;
    }
    
    /* Pinterest-style masonry for LinkedIn posts */
    .linkedin-masonry {
      columns: 1;
      column-gap: 1.5rem;
    }
    
    @media (min-width: 768px) {
      .linkedin-masonry {
        columns: 2;
      }
    }
    
    @media (min-width: 1024px) {
      .linkedin-masonry {
        columns: 3;
      }
    }
    
    .linkedin-masonry .linkedin-post-card {
      break-inside: avoid;
      margin-bottom: 1.5rem;
      width: 100%;
      display: inline-block;
    }
  `;_.useEffect(()=>{const t=document.createElement("style");return t.textContent=As,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]);const Nt=({isOpen:t,onClose:r,savedTwitterPosts:c,savedTwitterThreads:m,savedLinkedInPosts:b})=>{const[g,d]=o.useState("folders"),[u,S]=o.useState({twitter:new Set,linkedin:new Set}),[i,y]=o.useState({twitter:new Set,linkedin:new Set}),[A,z]=o.useState("twitter");if(!t)return null;const O=()=>{const x=new Map;return c.forEach(k=>{var R;const v=((R=k.author)==null?void 0:R.username)||"Unknown User";x.has(v)||x.set(v,[]),x.get(v).push(k)}),m.forEach(k=>{var R,Y,ve;const v=((Y=(R=k.tweets[0])==null?void 0:R.author)==null?void 0:Y.username)||((ve=k.author)==null?void 0:ve.username)||"Unknown User";x.has(v)||x.set(v,[]),x.get(v).push(k)}),x},V=()=>{const x=new Map;return b.forEach(k=>{const R=(k.postData||k).author||"Unknown Author";x.has(R)||x.set(R,[]),x.get(R).push(k)}),x},de=(x,k)=>{S(v=>{const R={...v},Y=new Set(R[x]);return Y.has(k)?Y.delete(k):Y.add(k),R[x]=Y,R})},ne=()=>{const x=O(),k=V(),v={twitter:[],linkedin:[]};return u.twitter.forEach(R=>{const Y=x.get(R)||[];v.twitter.push(...Y)}),u.linkedin.forEach(R=>{const Y=k.get(R)||[];v.linkedin.push(...Y)}),v},Ie=()=>{d("folders")};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl h-full max-h-[90vh] flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:g==="folders"?"Saved Posts - By User":"Posts from Selected Users"}),e.jsx("p",{className:"text-sm text-gray-500",children:g==="folders"?`${c.length+m.reduce((x,k)=>x+k.tweets.length,0)+b.length} total saved posts`:`${u.twitter.size+u.linkedin.size} users selected`})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[g==="posts"&&e.jsxs(C,{variant:"outline",size:"sm",onClick:Ie,className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Back to Users"]}),e.jsx(C,{variant:"outline",size:"sm",onClick:r,className:"p-2",children:e.jsx(Mt,{className:"h-4 w-4"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:c.length===0&&b.length===0&&m.length===0?e.jsxs("div",{className:"text-center py-16 text-gray-500",children:[e.jsx(he,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved posts yet"}),e.jsx("p",{children:"Start by scraping and saving some content!"})]}):g==="folders"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-amber-50 text-amber-800 p-4 rounded-lg text-sm",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Select Users:"}),e.jsx("p",{children:"Choose users whose posts you want to work with. You can select multiple users from both platforms."})]}),e.jsxs(Ae,{value:A,onValueChange:x=>z(x),className:"w-full",children:[e.jsxs(Le,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsxs(ee,{value:"twitter",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Twitter Users (",O().size,")"]}),e.jsxs(ee,{value:"linkedin",className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"LinkedIn Users (",V().size,")"]})]}),e.jsx($e,{value:"twitter",children:O().size===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No saved Twitter posts"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from(O().entries()).map(([x,k])=>e.jsx(K,{className:`transition-all hover:shadow-md ${u.twitter.has(x)?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,children:e.jsx(Z,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:v=>{v.stopPropagation(),de("twitter",x)},children:u.twitter.has(x)?e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 text-white",children:"✓"})}):e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full hover:border-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{d("posts"),z("twitter"),S(v=>({...v,twitter:new Set([x])}))},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-gray-500"}),e.jsxs("p",{className:"font-medium text-sm truncate",children:["@",x]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.length," post",k.length!==1?"s":""]})]})]})})},x))})}),e.jsx($e,{value:"linkedin",children:V().size===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No saved LinkedIn posts"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from(V().entries()).map(([x,k])=>e.jsx(K,{className:`transition-all hover:shadow-md ${u.linkedin.has(x)?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,children:e.jsx(Z,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:v=>{v.stopPropagation(),de("linkedin",x)},children:u.linkedin.has(x)?e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 text-white",children:"✓"})}):e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full hover:border-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{d("posts"),S(v=>({...v,linkedin:new Set([x])}))},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-gray-500"}),e.jsx("p",{className:"font-medium text-sm truncate",children:x})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.length," post",k.length!==1?"s":""]})]})]})})},x))})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs(C,{variant:"outline",onClick:()=>d("folders"),className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Back to Folders"]})}),e.jsxs(Ae,{value:A,onValueChange:x=>z(x),className:"w-full",children:[e.jsxs(Le,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsxs(ee,{value:"twitter",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Twitter Posts (",ne().twitter.length,")"]}),e.jsxs(ee,{value:"linkedin",className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"LinkedIn Posts (",ne().linkedin.length,")"]})]}),e.jsx($e,{value:"twitter",children:ne().twitter.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No posts from selected Twitter users"})}):e.jsx("div",{className:"columns-1 md:columns-2 gap-6",children:(()=>{const x=ne().twitter;return x.sort((k,v)=>{var ve,kt;const R=new Date("tweets"in k?((ve=k.tweets[0])==null?void 0:ve.created_at)||k.created_at:k.created_at||"");return new Date("tweets"in v?((kt=v.tweets[0])==null?void 0:kt.created_at)||v.created_at:v.created_at||"").getTime()-R.getTime()}),x.map((k,v)=>e.jsx("div",{className:"break-inside-avoid mb-6 w-full relative",children:"tweets"in k?e.jsxs("div",{className:"relative",children:[e.jsx(At,{thread:k}),e.jsx(C,{variant:"destructive",size:"sm",onClick:()=>{k.tweets.forEach(R=>jt(R.id))},className:"absolute top-2 right-2 h-8 w-8 p-0 bg-red-500 hover:bg-red-600 opacity-80 hover:opacity-100",children:e.jsx(Ke,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{tweet:k}),e.jsx(C,{variant:"destructive",size:"sm",onClick:()=>{jt(k.id)},className:"absolute top-2 right-2 h-8 w-8 p-0 bg-red-500 hover:bg-red-600 opacity-80 hover:opacity-100",children:e.jsx(Ke,{className:"h-4 w-4"})})]})},"tweets"in k?`filtered-thread-${k.id}`:`filtered-tweet-${k.id}`))})()})}),e.jsx($e,{value:"linkedin",children:ne().linkedin.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No posts from selected LinkedIn users"})}):e.jsx("div",{className:"masonry-container columns-1 md:columns-2 xl:columns-3 gap-6",children:ne().linkedin.map((x,k)=>{const v=x.postData||x;return e.jsxs(K,{className:"linkedin-post-card bg-white border border-gray-200 hover:shadow-lg transition-all duration-200 break-inside-avoid mb-6 relative",children:[e.jsx(C,{variant:"destructive",size:"sm",onClick:()=>{Ns(x.mongoId||x._id||x.id)},className:"absolute top-2 right-2 h-8 w-8 p-0 bg-red-500 hover:bg-red-600 opacity-80 hover:opacity-100 z-10",children:e.jsx(Ke,{className:"h-4 w-4"})}),e.jsx(re,{className:"p-4 pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:v.authorAvatar||"https://via.placeholder.com/40",alt:v.author,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:v.author}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:v.authorHeadline}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Saved • ",new Date(v.savedAt||x.createdAt).toLocaleDateString()]})]})]})}),e.jsx(Z,{className:"p-4 pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"linkedin-post-content",children:e.jsx(ja,{content:v.content||""})}),v.media&&v.media.length>0&&e.jsx("div",{className:"relative",children:v.media.length===1?e.jsx("div",{className:"rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:v.media[0].url,alt:"Post media",className:"w-full object-cover cursor-pointer hover:opacity-95 transition-opacity",style:{height:"auto",maxHeight:"400px"},onClick:()=>window.open(v.media[0].url,"_blank")})}):e.jsx(_t,{post:v})}),v.documents&&v.documents.length>0&&e.jsx("div",{className:"space-y-3",children:v.documents.map((R,Y)=>e.jsx(Ut,{document:R,postId:v.id,onOpenPdf:bt},Y))})]})})]},`filtered-${v.id}-${k}`)})})})]})]})})]})})};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Content Scraper"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Extract content from YouTube channels to repurpose for LinkedIn"})]})}),e.jsx(Nt,{isOpen:wt,onClose:()=>Ge(!1),savedTwitterPosts:fe,savedTwitterThreads:we,savedLinkedInPosts:ce}),e.jsxs(K,{className:"mb-8",children:[e.jsxs(re,{children:[e.jsx(ye,{children:"Input Source"}),e.jsx(St,{children:"Enter a YouTube channel URL or handle"})]}),e.jsx(Z,{children:e.jsxs(Ae,{defaultValue:"youtube",value:s,onValueChange:t=>{p(t),t!=="youtube"&&t!=="linkedin"&&t!=="twitter"&&(j(null),xe(""))},className:"w-full",children:[e.jsxs(Le,{className:"grid grid-cols-4 w-full mb-6",children:[e.jsxs(ee,{value:"youtube",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"YouTube"})]}),e.jsxs(ee,{value:"linkedin",className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"LinkedIn"})]}),e.jsxs(ee,{value:"twitter",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Twitter"})]}),e.jsxs(ee,{value:"web",className:"flex items-center gap-2 relative opacity-70",disabled:!0,children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Web"}),e.jsx("span",{className:"absolute -top-2 -right-2 bg-amber-500 text-white text-[10px] px-1 rounded-full",children:"Soon"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ws,{type:"text",placeholder:s==="youtube"?"Enter YouTube channel URL or @handle (e.g., @channelname)":s==="linkedin"?"Enter LinkedIn username (e.g., johndoe or linkedin.com/in/johndoe)":s==="twitter"?"Enter Twitter username (e.g., @username or twitter.com/username)":"Enter URL to scrape content",value:n,onChange:t=>f(t.target.value),onKeyDown:t=>{t.key==="Enter"&&!I&&n&&!(s==="linkedin"&&Me)&&(t.preventDefault(),yt())},className:"w-full"})}),e.jsx(C,{onClick:yt,disabled:I||!n||s==="linkedin"&&Me,className:"min-w-[120px]",children:I||s==="linkedin"&&Me?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"mr-2 h-4 w-4 animate-spin"}),s==="linkedin"?"Scraping...":"Loading"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ct,{className:"mr-2 h-4 w-4"}),s==="youtube"?"Get Videos":s==="linkedin"?"Scrape Profile":s==="twitter"?"Get Tweets":"Scrape Content"]})})]})]})})]}),s==="twitter"&&w&&e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 bg-white/90 backdrop-blur-sm rounded-xl shadow-md p-4 border border-gray-100 gap-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 min-w-0 flex-1",children:[w.profileImageUrl&&e.jsx("img",{src:w.profileImageUrl,alt:w.username||"User",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 border-blue-500/20 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h3",{className:"font-bold text-base sm:text-lg truncate",children:["@",w.username||"Unknown"]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[w.totalCount||0," tweets scraped"]})]})]})}),e.jsx(ya,{selectedCategory:F,onCategoryChange:U,tweetCounts:w.categories}),e.jsx("div",{className:"space-y-6",children:(()=>{const t=[];if(w.tweets&&Array.isArray(w.tweets)){const r=w.tweets.filter(c=>F==="normal"?!c.is_long:F==="long"?c.is_long:F!=="thread");t.push(...r)}return w.threads&&Array.isArray(w.threads)&&(F==="all"||F==="thread")&&t.push(...w.threads),t.sort((r,c)=>{var g,d;const m=new Date("tweets"in r?((g=r.tweets[0])==null?void 0:g.created_at)||r.created_at:r.created_at||"");return new Date("tweets"in c?((d=c.tweets[0])==null?void 0:d.created_at)||c.created_at:c.created_at||"").getTime()-m.getTime()}),t.length===0?e.jsxs("div",{className:"text-center py-10 bg-white/50 rounded-xl border border-gray-200",children:[e.jsxs("p",{className:"text-gray-500",children:["No ",F," content found."]}),e.jsx(C,{onClick:()=>U("all"),variant:"link",className:"text-blue-500 mt-2",children:"Show all content"})]}):e.jsx("div",{className:"columns-1 md:columns-2 gap-6",children:t.map(r=>e.jsx("div",{className:"break-inside-avoid mb-6 w-full",children:"tweets"in r?e.jsx(At,{thread:r}):e.jsx(Lt,{tweet:r})},"tweets"in r?`thread-${r.id}`:`tweet-${r.id}`))})})()})]}),s==="youtube"&&E&&e.jsxs("div",{className:"space-y-6",children:[pe.size>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg flex items-center mb-4",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Fetching transcript..."}),e.jsx("p",{className:"text-sm",children:"Please wait while we retrieve the transcript. This may take a few moments."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"h-8 w-8"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:E.channelName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[E.videos.length," videos found"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>oe(new Set(E.videos.map(t=>t.id))),disabled:I,className:"text-xs whitespace-nowrap",children:"Select All"}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>oe(new Set),disabled:I||se.size===0,className:"text-xs whitespace-nowrap",children:"Clear Selection"}),e.jsx(C,{variant:"default",size:"sm",onClick:Cs,disabled:I||se.size===0,className:"text-xs gap-1 whitespace-nowrap",children:I?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-3 w-3 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"h-3 w-3"}),"Save (",se.size,")"]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.videos.map(t=>e.jsxs(K,{className:`overflow-hidden ${se.has(t.id)?"border-primary":""}`,children:[e.jsxs("div",{className:"h-40 bg-gray-100 dark:bg-gray-800 relative",children:[e.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-1 rounded",children:t.duration!=="N/A"?t.duration:"N/A"})]}),e.jsx(re,{className:"p-4 pb-2",children:e.jsx(ye,{className:"text-sm line-clamp-2",children:t.title})}),e.jsxs(Z,{className:"p-4 pt-0",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:[t.view_count.toLocaleString()," views"]}),e.jsx("span",{children:new Date(t.upload_date).toLocaleDateString()})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate",children:t.channelName||"Unknown Channel"})]}),e.jsxs(qe,{className:"p-3 pt-0 flex flex-col gap-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>window.open(t.url,"_blank"),className:"w-full",children:[e.jsx(Te,{className:"h-4 w-4 mr-1"}),"Watch"]}),e.jsx(C,{variant:se.has(t.id)?"secondary":"outline",size:"sm",onClick:()=>$s(t.id),className:"w-full",children:se.has(t.id)?"Selected":"Select"})]}),e.jsx(C,{variant:ut.has(t.id)?"secondary":"default",size:"sm",className:`w-full ${pe.size>0?"opacity-70":""}`,onClick:()=>Ts(t.id),disabled:pe.size>0,children:Ps(t.id)})]})]},t.id))})]}),s==="linkedin"&&J&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(K,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:e.jsx(Z,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[J.profileData.avatar&&e.jsx("img",{src:J.profileData.avatar,alt:J.profileData.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 border-white shadow-lg flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:J.profileData.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1 line-clamp-2 break-words",children:J.profileData.headline}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(me,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[J.totalPosts," posts"]})]}),e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs("span",{className:"truncate",children:["@",J.profileData.username]})]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"})]})})}),e.jsx("div",{className:"masonry-container columns-1 md:columns-2 lg:columns-3 gap-6",children:J.posts.map((t,r)=>e.jsxs(K,{className:"linkedin-post-card bg-white border border-gray-200 hover:shadow-lg transition-all duration-200 break-inside-avoid",children:[e.jsx(re,{className:"p-4 pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("img",{src:t.authorAvatar||"https://via.placeholder.com/40",alt:t.author,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:t.author}),t.isRepost&&e.jsx(Bs,{variant:"secondary",className:"text-xs px-1 py-0",children:"Repost"})]}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 break-words",children:t.authorHeadline}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.dateRelative," • 🌐"]})]})]})})}),e.jsx(Z,{className:"p-4 pt-0",children:e.jsxs("div",{className:"space-y-3 linkedin-post-content",children:[e.jsx("div",{className:"text-sm text-gray-800 leading-relaxed",children:t.content.length>300?e.jsxs("div",{children:[e.jsxs("div",{id:`truncated-content-${t.id}`,children:[e.jsxs("p",{className:"whitespace-pre-line break-words overflow-hidden",children:[t.content.substring(0,300),"..."]}),e.jsx(C,{variant:"link",size:"sm",className:"p-0 h-auto text-xs text-gray-500 hover:text-blue-600 mt-1",onClick:()=>{const c=document.getElementById(`truncated-content-${t.id}`),m=document.getElementById(`full-content-${t.id}`),b=document.getElementById(`see-more-btn-${t.id}`);c&&m&&b&&(m.style.display==="none"||!m.style.display?(c.style.display="none",m.style.display="block",b.textContent="see less"):(c.style.display="block",m.style.display="none",b.textContent="see more"))},children:e.jsx("span",{id:`see-more-btn-${t.id}`,children:"see more"})})]}),e.jsx("div",{id:`full-content-${t.id}`,style:{display:"none"},children:e.jsx("p",{className:"whitespace-pre-line break-words overflow-hidden mt-2",children:t.content})})]}):e.jsx("p",{className:"whitespace-pre-line break-words overflow-hidden",children:t.content})}),t.media&&t.media.length>0&&e.jsx("div",{className:"relative",children:t.media.length===1?e.jsx("div",{className:"rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:t.media[0].url,alt:"Post media",className:"w-full object-cover cursor-pointer hover:opacity-95 transition-opacity",style:{height:"auto",maxHeight:"400px"},onClick:()=>window.open(t.media[0].url,"_blank")})}):e.jsx(_t,{post:t})}),t.documents&&t.documents.length>0&&e.jsx("div",{className:"space-y-3",children:t.documents.map((c,m)=>e.jsx(Ut,{document:c,postId:t.id,onOpenPdf:bt},`${t.id}-doc-${m}`))})]})}),e.jsx(qe,{className:"p-4 pt-0",children:e.jsxs("div",{className:"w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 border-t border-gray-100 pt-2",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-600",children:"👍"}),e.jsx("span",{className:"text-red-500",children:"❤️"}),e.jsx("span",{className:"text-green-600",children:"💡"}),t.likes||0]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{children:[t.comments||0," comments"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.shares||0," reposts"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(C,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100 px-3 py-1 h-8",children:[e.jsx("span",{className:"mr-1",children:"👍"}),e.jsx("span",{className:"text-xs",children:"Like"})]}),e.jsxs(C,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100 px-3 py-1 h-8",children:[e.jsx(Tt,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Comment"})]}),e.jsxs(C,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100 px-3 py-1 h-8",children:[e.jsx(Et,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Repost"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>He(t.content),className:"text-gray-500 hover:text-blue-600 hover:bg-blue-50 px-2 py-1 h-8",children:e.jsx(Je,{className:"h-3 w-3"})}),t.url&&e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>window.open(t.url,"_blank"),className:"text-gray-500 hover:text-blue-600 hover:bg-blue-50 px-2 py-1 h-8",children:e.jsx(me,{className:"h-3 w-3"})})]})]})]})})]},`${t.id}-${r}`))})]}),s!=="twitter"&&s!=="youtube"&&T&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(K,{children:[e.jsxs(re,{children:[e.jsx(ye,{children:"Extracted Content"}),e.jsxs(St,{children:["Content extracted from ",s==="linkedin"?"LinkedIn":s==="website"?"website":"YouTube video"]})]}),e.jsxs(Z,{children:[e.jsx("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-4 mb-4 bg-white dark:bg-gray-900",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:T.content})}),e.jsx(va,{type:"single",collapsible:!0,className:"mb-4",children:e.jsxs(ls,{value:"key-points",children:[e.jsx(is,{className:"text-base font-medium",children:"Key Points"}),e.jsx(os,{children:e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:T.keyPoints.map((t,r)=>e.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:t},r))})})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Detected Tone"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:T.tone})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Details"}),e.jsxs("div",{className:"text-gray-700 dark:text-gray-300 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Word count:"}),e.jsx("span",{children:T.wordCount})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Read time:"}),e.jsxs("span",{children:[T.estimatedReadTime," min"]})]})]})]})]})]}),e.jsxs(qe,{className:"flex justify-between border-t border-gray-200 dark:border-gray-800 pt-4",children:[e.jsxs(C,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>He(T.content),children:[e.jsx(Je,{className:"h-4 w-4"}),"Copy Content"]}),e.jsxs(C,{variant:"outline",size:"sm",className:"gap-1",onClick:ys,children:[e.jsx(It,{className:"h-4 w-4"}),"Save to Vault"]})]})]})}),e.jsxs("div",{children:[e.jsxs(K,{className:"mb-6",children:[e.jsx(re,{className:"pb-3",children:e.jsxs(ye,{className:"flex items-center gap-2 text-base",children:[e.jsx(Ys,{className:"h-4 w-4 text-amber-500"}),"Suggested Hook"]})}),e.jsxs(Z,{children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3",children:T.suggestedHook}),e.jsxs(C,{variant:"outline",size:"sm",className:"w-full gap-1",onClick:()=>He(T.suggestedHook),children:[e.jsx(Je,{className:"h-4 w-4"}),"Copy Hook"]})]})]}),e.jsxs(K,{className:"bg-primary-50 dark:bg-primary-900/20",children:[e.jsx(re,{className:"pb-3",children:e.jsx(ye,{className:"text-base",children:"Generate LinkedIn Post"})}),e.jsxs(Z,{className:"pb-3",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"Use the extracted content to create an engaging LinkedIn post with AI assistance."}),e.jsxs(C,{className:"w-full gap-2 mb-3",onClick:js,children:[e.jsx(Gs,{className:"h-4 w-4"}),"Create Post"]}),e.jsxs(C,{variant:"outline",className:"w-full gap-2",onClick:()=>a("/dashboard/ai"),children:[e.jsx(Tt,{className:"h-4 w-4"}),"Expand with AI Writer"]})]})]})]})]}),!T&&!I&&!E&&!J&&!w&&e.jsx(K,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"text-center max-w-xl mx-auto",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-50 dark:bg-primary-900/20 mb-4",children:s==="youtube"?e.jsx(Te,{className:"h-8 w-8 text-primary"}):s==="linkedin"?e.jsx(me,{className:"h-8 w-8 text-primary"}):s==="twitter"?e.jsx(Ee,{className:"h-8 w-8 text-primary"}):e.jsx(Ct,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:s==="youtube"?"Extract Content from YouTube Channels":s==="linkedin"?"Scrape LinkedIn Profiles":s==="twitter"?"Extract Tweets from Twitter":"Extract Content from Social Media"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:s==="youtube"?"Paste a YouTube channel handle (starting with @) or URL to extract videos and transcripts for your LinkedIn content.":s==="linkedin"?"Enter a LinkedIn username to scrape their profile and recent posts for content inspiration.":s==="twitter"?"Enter a Twitter username to fetch their recent tweets and threads for content analysis and inspiration.":"Select a platform above and enter the appropriate URL or username to start scraping content."}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[s==="youtube"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"1"}),e.jsx("span",{children:"Enter a YouTube channel handle (e.g., @channelname) in the input field above"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"2"}),e.jsx("span",{children:'Click "Get Videos" to fetch content from the channel'})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"3"}),e.jsx("span",{children:"Select videos and fetch transcripts to create LinkedIn content"})]})]}),s==="linkedin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"1"}),e.jsx("span",{children:"Enter a LinkedIn username (e.g., johndoe) in the input field above"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"2"}),e.jsx("span",{children:'Click "Scrape Profile" to fetch their posts and profile data'})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"3"}),e.jsx("span",{children:"Select posts to save for content inspiration and analysis"})]})]}),s==="twitter"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"1"}),e.jsx("span",{children:"Enter a Twitter username (e.g., @username) in the input field above"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"2"}),e.jsx("span",{children:'Click "Get Tweets" to fetch their recent tweets and threads'})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-xs font-medium",children:"3"}),e.jsx("span",{children:"Select tweets and threads to save for content inspiration and analysis"})]})]})]})]})})}),te&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:"Generated Image"}),e.jsx("div",{className:"flex justify-between mt-4",children:e.jsx(C,{variant:"outline",onClick:Is,disabled:it,className:"gap-2",children:it?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),"Generating Image..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hs,{className:"h-4 w-4"}),"Generate Image"]})})}),Oe&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"relative rounded-md overflow-hidden",children:e.jsx("img",{src:Oe,alt:"Generated image",className:"w-full max-h-[250px] object-cover"})}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsxs(C,{variant:"outline",onClick:()=>a("/dashboard/images"),className:"gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"View in Gallery"]}),e.jsxs(C,{onClick:()=>a("/dashboard/post",{state:{content:te,image:Oe}}),className:"gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),"Create Post with Image"]})]})]})]}),(fe.length>0||ce.length>0||we.length>0)&&e.jsxs("div",{className:"fixed bottom-6 right-6 z-40",children:[e.jsx(C,{onClick:()=>Ge(!0),className:"rounded-full h-14 w-14 shadow-lg hover:shadow-xl transition-all duration-200 bg-blue-600 hover:bg-blue-700 group",size:"lg",title:`View ${fe.length+ce.length+we.reduce((t,r)=>t+r.tweets.length,0)} saved posts`,children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"h-6 w-6 text-white"}),e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center text-[10px] font-bold",children:fe.length+ce.length+we.reduce((t,r)=>t+r.tweets.length,0)})]})}),e.jsx("div",{className:"absolute bottom-16 right-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:"View Saved Posts"})]}),e.jsx(Nt,{isOpen:wt,onClose:()=>Ge(!1),savedTwitterPosts:fe,savedTwitterThreads:we,savedLinkedInPosts:ce}),e.jsx(Na,{isOpen:De.isOpen,onClose:us,documentUrl:De.documentUrl,documentTitle:De.documentTitle})]})};export{Va as default};
